/*EXAMEN 25-06-2022 
BASE DE DATOS - MY SQL
LEYDER YESID SANCHEZ BENACHI*/

DROP DATABASE examen2;
CREATE DATABASE examen2;
USE examen2;

CREATE TABLE CATEGORIAS
(
ID_CATEGORIA INT PRIMARY KEY,
DESCRIPCION VARCHAR(100) NOT NULL);

CREATE TABLE PROVEEDORES
( ID_PROVEEDOR INT PRIMARY KEY,
NOMBRE VARCHAR(100) NOT NULL,
DIRECCION VARCHAR(50) NOT NULL,
TELEFONO VARCHAR(15) NULL
);

CREATE TABLE CLIENTES
( ID_CLIENTE INT PRIMARY KEY,
RUT_CLIENTE VARCHAR (10) NULL,
NOMBRE VARCHAR(100) NOT NULL,
DIRECCION VARCHAR(50) NOT NULL,
TELEFONO VARCHAR (15) NULL
);

CREATE TABLE FACTURAS
( ID_FACTURA INT PRIMARY KEY,
FECHA DATE NULL,
ID_CLIENTE INT NOT NULL,
CONSTRAINT FK_CLIENTE_FACTURA FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES(ID_CLIENTE)
);

CREATE TABLE PRODUCTOS
( ID_PRODUCTO INT PRIMARY KEY,
DESCRIPCION VARCHAR(100) NOT NULL,
PRECIO INT NOT NULL,
ID_CATEGORIA INT NOT NULL,
CONSTRAINT FK_CATEGORIA_PRODUCTO FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIAS(ID_CATEGORIA),
ID_PROVEEDOR INT NOT NULL,
CONSTRAINT FK_PROVEEDOR_PRODUCTO FOREIGN KEY (ID_PROVEEDOR) REFERENCES PROVEEDORES(ID_PROVEEDOR)
);

CREATE TABLE VENTAS
( ID_VENTA INT PRIMARY KEY,
ID_FACTURA INT NOT NULL,
CONSTRAINT FK_FACTURA_VENTA FOREIGN KEY (ID_FACTURA) REFERENCES FACTURAS(ID_FACTURA),
ID_PRODUCTO INT NOT NULL,
CONSTRAINT FK_PRODUCTO_VENTA FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTOS(ID_PRODUCTO)
);

INSERT INTO CLIENTES VALUES (1,44623,"CAMILO SANCHEZ","CRA 4 NO2-7","3135643275");
INSERT INTO CLIENTES VALUES (2,46624,"DIANA NUÑEZ","CRA 9 NO42-9","3232633275");
INSERT INTO CLIENTES VALUES (3,38244,"JAVIER GALINDEZ","CLL 6 N2-77","3135643275");
INSERT INTO CLIENTES VALUES (4,90528,"SEBASTIAN GOMEZ","CRA 1 NO24-79","3135643275");
INSERT INTO CLIENTES VALUES (5,13585,"LISBETH SAMBONI","CRA 4 NO3-9","3135643275");

INSERT INTO PROVEEDORES VALUES (1,"JUAN GONZALES","CLL 8 NO2-7","3137643275");
INSERT INTO PROVEEDORES VALUES (2,"NATALIA PEÑA","CRA 9 NO42-6","3232623275");
INSERT INTO PROVEEDORES VALUES (3,"MANUEL MENDOZA","CLL 6 N2-77","3135143275");
INSERT INTO PROVEEDORES VALUES (4,"FELIPE SOL","CRA 1 NO24-79","3135743275");
INSERT INTO PROVEEDORES VALUES (5,"DAYANA SANCHEZ","CRA 4 S38-9","3235643275");

INSERT INTO CATEGORIAS VALUES (1,"ASEO PERSONAL");
INSERT INTO CATEGORIAS VALUES (2,"ROPA DEPORTIVA");
INSERT INTO CATEGORIAS VALUES (3,"IMPLEMENTOS DEPORTIVOS");
INSERT INTO CATEGORIAS VALUES (4,"ACCESORIOS");
INSERT INTO CATEGORIAS VALUES (5,"SUPLEMENTOS");

INSERT INTO PRODUCTOS VALUES (1,"BALON DE FUTBOL",29999,3,1);
INSERT INTO PRODUCTOS VALUES (2,"PROTECCIONES PATINAJE",329999,3,1);
INSERT INTO PRODUCTOS VALUES (3,"CONJUNTO DEPORTIVO HOMBRE",58999,2,2);
INSERT INTO PRODUCTOS VALUES (4,"MANILLAS",18000,4,5);
INSERT INTO PRODUCTOS VALUES (5,"COMPLEJO B LIQUIDO",129999,5,4);

INSERT INTO FACTURAS VALUES (1,"2017-06-23",3);
INSERT INTO FACTURAS VALUES (2,"2017-12-03",2);
INSERT INTO FACTURAS VALUES (3,"2017-10-30",1);
INSERT INTO FACTURAS VALUES (4,"2017-02-24",5);
INSERT INTO FACTURAS VALUES (5,"2017-03-12",4);

INSERT INTO VENTAS VALUES (1,2,5);
INSERT INTO VENTAS VALUES (2,1,3);
INSERT INTO VENTAS VALUES (3,5,1);
INSERT INTO VENTAS VALUES (4,2,3);
INSERT INTO VENTAS VALUES (5,1,3);

/**/

/*HISTORIAS DE USUARIO
1. Como proveedor necesito saber el total de los productos
2. Como cliente deseo saber la informacion sobre mi factura
3. como usuario deseo listar las categorias
4. como proveedor necesito listar los clientes
5. como cliente necesito listar los productos
*/

--CONSULTAS

--no entiendo
